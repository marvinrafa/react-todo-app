(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{18:function(e,t,o){},19:function(e,t,o){},21:function(e,t,o){},22:function(e,t,o){},23:function(e,t,o){},29:function(e,t,o){},30:function(e,t,o){},31:function(e,t,o){},32:function(e,t,o){},33:function(e,t,o){"use strict";o.r(t);var n=o(0),c=o.n(n),a=o(6),r=o.n(a),s=(o(18),o(19),o(1));function l(e){var t=e.totalTodos,o=e.completedTodos,n=e.loading;return Object(s.jsxs)("h2",{className:"TodoCounter  ".concat(n&&"TodoCounter--loading"),children:["Has completado ",o," de ",t," Tareas"]})}o(21);function d(e){var t=e.searchValue,o=e.setSearchValue,n=e.loading;return Object(s.jsx)("input",{className:"TodoSearch",value:t,placeholder:"Buscar...",onChange:function(e){o(e.target.value)},disabled:n})}o(22);function i(e){var t=e.children||e.render;return Object(s.jsxs)("section",{className:"todoList-container",children:[e.error&&e.onError(),e.loading&&e.onLoading(),!e.loading&&!e.totalTodos&&e.onEmptyTodos(),e.totalTodos>0&&!e.searchedTodos.length&&e.onEmptySearchResults(),Object(s.jsx)("ul",{children:!e.loading&&e.searchedTodos.map((function(e,o){return t(e,o)}))})]})}o(23);var u=o(11),j=o(12);function h(e){return Object(s.jsxs)("li",{className:"TodoItem",children:[Object(s.jsx)(u.a,{icon:j.a,className:"Icon Icon-check ".concat(e.completed&&"Icon-check--active"),onClick:e.onComplete,children:"\u221a"}),Object(s.jsx)("p",{className:"TodoItem-p ".concat(e.completed&&"TodoItem-p--complete"),children:e.text}),Object(s.jsx)(u.a,{icon:j.b,className:"Icon Icon-delete",onClick:e.onDelete,children:"x"})]})}o(29);function b(e){return Object(s.jsx)("button",{className:"CreateTodoButton",onClick:function(){e.setOpenModal((function(e){return!e}))},children:"".concat(e.openModal?"\xd7":"+")})}o(30);function O(e){var t=e.children;return r.a.createPortal(Object(s.jsx)("div",{className:"ModalBackground",children:t}),document.getElementById("modal"))}var m=o(3);o(31);var f=function(e){var t=e.addTodo,o=e.setOpenModal,n=c.a.useState(""),a=Object(m.a)(n,2),r=a[0],l=a[1];return Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(r),o(!1)},children:[Object(s.jsx)("label",{children:"Nueva tarea:"}),Object(s.jsx)("textarea",{onChange:function(e){l(e.target.value)},value:r,placeholder:"Escribe tu tarea..."}),Object(s.jsxs)("div",{className:"TodoForm-buttonContainer",children:[Object(s.jsx)("button",{type:"button",onClick:function(){o(!1)},className:"TodoForm-button TodoForm-button-cancel",children:"Cancelar"}),Object(s.jsx)("button",{type:"submit",className:"TodoForm-button TodoForm-button-add",children:"A\xf1adir"})]})]})},p=o(13),x=function(){return Object(s.jsx)(p.a,{style:{width:"95%",margin:"0px auto"},viewBox:"0 0 150 140",foregroundColor:"#6d9886",backgroundColor:"#7EB5A6"})};function g(){return Object(s.jsx)("p",{style:{textAlign:"center"},children:"Ha ocurrido un error"})}function T(){return Object(s.jsx)("p",{style:{textAlign:"center",fontSize:"20px"},children:"Crea tus tareas haciendo clic en +"})}function v(e){var t=e.children,o=e.loading;return Object(s.jsx)("header",{children:c.a.Children.toArray(t).map((function(e){return c.a.cloneElement(e,{loading:o})}))})}var S=o(8);var y=function(e,t){var o=c.a.useState(!0),n=Object(m.a)(o,2),a=n[0],r=n[1],s=c.a.useState(null),l=Object(m.a)(s,2),d=l[0],i=l[1],u=c.a.useState(!0),j=Object(m.a)(u,2),h=j[0],b=j[1],O=c.a.useState(t),f=Object(m.a)(O,2),p=f[0],x=f[1];return c.a.useEffect((function(){setTimeout((function(){try{var o,n=localStorage.getItem(e);n?o=JSON.parse(n):(localStorage.setItem(e,JSON.stringify(t)),o=t),x(o),r(!1),b(!0)}catch(d){i(d)}}),1e3)}),[h]),{item:p,saveItem:function(t){try{var o=JSON.stringify(t);localStorage.setItem(e,o),x(t)}catch(d){i(d)}},loading:a,error:d,synchronizeItem:function(){r(!0),b(!1)}}};function C(e){var t=e.searchValue;return Object(s.jsxs)("p",{style:{textAlign:"center",fontSize:"20px"},children:['No se han encontrado tareas con "',t,'"']})}o(32);function I(e){var t=function(e){var t=c.a.useState(!1),o=Object(m.a)(t,2),n=o[0],a=o[1];return window.addEventListener("storage",(function(e){"TODOS_V1"===e.key&&(console.log("Hubo cambios en TODOS_V1"),a(!0))})),{show:n,toggleShow:function(){a(!1),e()}}}(e.synchronize),o=t.show,n=t.toggleShow;return o?Object(s.jsx)("div",{class:"alert-background",children:Object(s.jsxs)("div",{class:"alert-box",children:[Object(s.jsx)("p",{class:"alert-text",children:Object(s.jsx)("strong",{children:"Se han detectado nuevos cambios"})}),Object(s.jsx)("p",{class:"alert-text",children:"Al parecer has realizado una version mas reciente con cambios en los TODOS en otra ventana"}),Object(s.jsxs)("button",{class:"alert-button",onClick:function(){return n()},children:["Sincronizar ",Object(s.jsx)("strong",{class:"reload-icon",children:"\u27f3"})]})]})}):null}var N=function(){var e=function(){var e=y("TODOS_V1",[]),t=e.item,o=e.saveItem,n=e.loading,a=e.error,r=e.synchronizeItem,s=c.a.useState(""),l=Object(m.a)(s,2),d=l[0],i=l[1],u=c.a.useState(!1),j=Object(m.a)(u,2),h=j[0],b=j[1],O=t.filter((function(e){return!!e.completed})).length,f=t.length,p=t.filter((function(e){return e.text.toLowerCase().includes(d.toLowerCase())}));return{loading:n,error:a,totalTodos:f,completedTodos:O,searchValue:d,setSearchValue:i,searchedTodos:p,completeATodo:function(e){var n=Object(S.a)(t);n[e].completed=!0,o(n)},deleteATodo:function(e){var n=Object(S.a)(t);n.splice(e,1),o(n)},addTodo:function(e){var n=Object(S.a)(t);n.push({completed:!1,text:e}),o(n)},openModal:h,setOpenModal:b,synchronizeTodos:r}}(),t=e.error,o=e.loading,n=e.searchedTodos,a=e.completeATodo,r=e.deleteATodo,u=e.openModal,j=e.setOpenModal,p=e.totalTodos,N=e.completedTodos,V=e.searchValue,k=e.setSearchValue,E=e.addTodo,w=e.synchronizeTodos;return Object(s.jsxs)(c.a.Fragment,{children:[Object(s.jsxs)(v,{loading:o,children:[Object(s.jsx)(l,{totalTodos:p,completedTodos:N}),Object(s.jsx)(d,{searchValue:V,setSearchValue:k})]}),Object(s.jsx)(i,{error:t,loading:o,searchedTodos:n,searchValue:V,totalTodos:p,onError:function(){return Object(s.jsx)(g,{})},onLoading:function(){return Object(s.jsx)(x,{})},onEmptyTodos:function(){return Object(s.jsx)(T,{})},onEmptySearchResults:function(){return Object(s.jsx)(C,{searchValue:V})},render:function(e,t){return Object(s.jsx)(h,{text:e.text,completed:e.completed,onComplete:function(){return a(t)},onDelete:function(){return r(t)}},t)}}),u&&Object(s.jsx)(O,{children:Object(s.jsx)(f,{addTodo:E,setOpenModal:j})}),Object(s.jsx)(b,{setOpenModal:j,openModal:u}),Object(s.jsx)(I,{synchronize:w})]})};r.a.render(Object(s.jsx)(N,{}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.061e5cba.chunk.js.map